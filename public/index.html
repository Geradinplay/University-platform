<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="../src/css/layout.css">

  <script>
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º JWT —Ç–æ–∫–µ–Ω –∏ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', () => {
      const token = localStorage.getItem('jwt');
      const userRole = localStorage.getItem('userRole');

      console.log('üîê index.html: –ü—Ä–æ–≤–µ—Ä—è—é –¥–æ—Å—Ç—É–ø. Token:', !!token, 'Role:', userRole);

      if (!token) {
        console.warn('‚ö†Ô∏è JWT —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞...');
        window.location.href = 'auth.html';
      } else if (userRole !== 'admin' && userRole !== 'ADMIN') {
        console.warn('‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º (role=' + userRole + ')! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä—Å–∫—É—é –ø–∞–Ω–µ–ª—å...');
        window.location.href = 'professor.html';
      } else {
        console.log('‚úÖ JWT —Ç–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω –∏ —Ä–æ–ª—å –∞–¥–º–∏–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. –ó–∞–≥—Ä—É–∂–∞—é –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å...');
      }
    });
  </script>
</head>
<body>
<div class="container">
  <!-- –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª —Å –Ω–∞–¥–ø–∏—Å—å—é ADMIN –∏ –∫–Ω–æ–ø–∫–æ–π –≤—ã—Ö–æ–¥–∞ -->
  <div class="admin-header">
    <span class="admin-badge">ADMIN</span>
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º -->
    <div id="connection-status" class="connection-indicator" title="–°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º">
      <span class="connection-dot disconnected"></span>
      <span class="connection-text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
    </div>
    <button id="logout-btn" class="logout-btn">
      –í—ã–π—Ç–∏
    </button>
  </div>
  <!-- –í–∫–ª–∞–¥–∫–∏ –¥–ª—è —Ñ–æ—Ä–º—ã, –±—É—Ñ–µ—Ä–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <div class="tabs">
    <button class="tab-btn active" onclick="window.openTab('lesson-tab-content')">–°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ</button>
    <button class="tab-btn" onclick="window.openTab('settings-content')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <button class="tab-btn" onclick="window.openTab('add-classroom-tab')">–î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é</button>
    <button class="tab-btn" onclick="window.openTab('add-professor-tab')">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</button>
    <button class="tab-btn" onclick="window.openTab('add-subject-tab')">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
  </div>

  <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ "–°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ" -->
  <div id="lesson-tab-content" class="tab-content active">
    <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
    <div class="schedule-select-block">
      <h2>–í—ã–±—Ä–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h2>
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <div class="form-group" style="flex-grow: 1;">
          <label for="facultySelect">–§–∞–∫—É–ª—å—Ç–µ—Ç:</label>
          <select id="facultySelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç --</option>
          </select>
        </div>
        <button onclick="window.openCreateFacultyModal()" style="white-space: nowrap; margin-top: 20px;">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–∫—É–ª—å—Ç–µ—Ç</button>
        <button onclick="window.openEditFacultyModal()" style="white-space: nowrap; margin-top: 20px;">–û–±–Ω–æ–≤–∏—Ç—å</button>
        <button onclick="window.openDeleteFacultyModal()" style="white-space: nowrap; margin-top: 20px; background:#dc3545;">–£–¥–∞–ª–∏—Ç—å</button>
      </div>
      <div style="display: flex; align-items: center; gap: 10px;">
        <div class="form-group" style="flex-grow: 1;">
          <label for="scheduleSelect">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:</label>
          <select id="scheduleSelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ --</option>
          </select>
        </div>
        <button onclick="window.openCreateScheduleModal()" style="white-space: nowrap; margin-top: 10px;">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
        <button onclick="window.openEditScheduleModal()" style="white-space: nowrap; margin-top: 10px;">–û–±–Ω–æ–≤–∏—Ç—å</button>
        <button onclick="window.openDeleteScheduleModal()" style="white-space: nowrap; margin-top: 10px; background:#dc3545;">–£–¥–∞–ª–∏—Ç—å</button>
      </div>
      <button onclick="window.loadSchedule()" style="margin-top: 10px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
    </div>

    <!-- –ù–û–í–û–ï: –ë–ª–æ–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è -->
    <div class="schedule-select-block" style="margin-top: 20px; border-top: 2px solid #a3b8cd; padding-top: 20px;">
      <h2>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</h2>
      <div style="display: flex; align-items: center; gap: 10px;">
        <div class="form-group" style="flex-grow: 1;">
          <label for="professorSelect">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:</label>
          <select id="professorSelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è --</option>
          </select>
        </div>
        <button onclick="window.loadProfessorSchedule()" style="white-space: nowrap; margin-top: 20px;">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
        <button onclick="window.clearProfessorSchedule()" style="white-space: nowrap; margin-top: 20px; background:#6c757d;">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
    </div>
    <div class="form-flex-row">
      <!-- –ë–ª–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏—è -->
      <div class="lesson-form-block">
        <h2>–°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ</h2>
        <div class="form-group">
          <label for="subjectSelect">–ü—Ä–µ–¥–º–µ—Ç:</label>
          <select id="subjectSelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç --</option>
          </select>
        </div>
        <div class="form-group">
          <label for="teacherSelect">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å:</label>
          <select id="teacherSelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è --</option>
          </select>
        </div>
        <div class="form-group">
          <label for="classroomSelect">–ê—É–¥–∏—Ç–æ—Ä–∏—è:</label>
          <select id="classroomSelect">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏—Ç–æ—Ä–∏—é --</option>
          </select>
        </div>
        <div class="form-group">
          <label for="timeInput">–í—Ä–µ–º—è (–ß–ß:–ú–ú-–ß–ß:–ú–ú):</label>
          <input type="text" id="timeInput" placeholder="09:00-10:30">
        </div>
        <button onclick="window.addNewLesson()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ</button>
      </div>
      <!-- –ë–ª–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ—Ä—ã–≤–∞ -->
      <div class="break-form-block">
        <h2>–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤</h2>
        <div class="form-group">
          <label for="breakDaySelect">–î–µ–Ω—å:</label>
          <select id="breakDaySelect">
            <option value="1">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
            <option value="2">–í—Ç–æ—Ä–Ω–∏–∫</option>
            <option value="3">–°—Ä–µ–¥–∞</option>
            <option value="4">–ß–µ—Ç–≤–µ—Ä–≥</option>
            <option value="5">–ü—è—Ç–Ω–∏—Ü–∞</option>
          </select>
        </div>
        <div class="form-group">
          <label for="breakStartInput">–ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ä—ã–≤–∞ (–ß–ß:–ú–ú):</label>
          <input type="text" id="breakStartInput" placeholder="10:30">
        </div>
        <div class="form-group">
          <label for="breakEndInput">–ö–æ–Ω–µ—Ü –ø–µ—Ä–µ—Ä—ã–≤–∞ (–ß–ß:–ú–ú):</label>
          <input type="text" id="breakEndInput" placeholder="10:45">
        </div>
        <!-- –î–æ–±–∞–≤–ª–µ–Ω flex-—Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
        <div style="flex-grow:1;"></div>
        <button class="break-create-btn" onclick="window.createBreakManual()">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ä—ã–≤</button>
      </div>
    </div>
    <!-- –ë—É—Ñ–µ—Ä —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ lesson-tab-content -->
    <div id="buffer-content" class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
      <h2>–ë—É—Ñ–µ—Ä</h2>
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ JS-–æ–º -->
    </div>
  </div>

  <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" -->
  <div id="settings-content" class="tab-content">
    <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
    <div class="settings-group">
      <label>
        <input type="checkbox" id="breakToggle" checked>
        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ä—ã–≤—ã
      </label>

      <label>
        –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ä—ã–≤–∞ (–º–∏–Ω):
        <input type="number" id="breakDuration" value="10" min="5" max="30">
      </label>
    </div>

    <div class="settings-group">
      <label>
        <input type="checkbox" id="allowCollision">
        –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏
      </label>
    </div>

    <div class="settings-group">
      <label>
        <input type="checkbox" id="checkClassroomBusy" checked>
        –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å –∫–∞–±–∏–Ω–µ—Ç–æ–≤
      </label>
      <p style="font-size: 12px; color: #666; margin-left: 24px;">–ó–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∫–∞–±–∏–Ω–µ—Ç –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è</p>
    </div>

    <div class="settings-group">
      <label>
        <input type="checkbox" id="checkProfessorBusy" checked>
        –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–æ–≤
      </label>
      <p style="font-size: 12px; color: #666; margin-left: 24px;">–ó–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞ –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è</p>
    </div>
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ -->
  <div id="add-classroom-tab" class="tab-content">
    <div style="display: flex; gap: 32px;">
      <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
      <div style="flex: 0 0 320px;">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é</h2>
        <div class="form-group">
          <label for="newClassroomNumber">–ù–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏:</label>
          <input type="text" id="newClassroomNumber" placeholder="101">
        </div>
        <button onclick="window.addClassroom()">–î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é</button>
      </div>
      <!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ) -->
      <div class="scroll-list-window">
        <h2 style="font-size:1.2em;">–°–ø–∏—Å–æ–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–π</h2>
        <div id="classroom-list" class="scroll-list"></div>
      </div>
    </div>
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è -->
  <div id="add-professor-tab" class="tab-content">
    <div style="display: flex; gap: 32px;">

      <!-- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º isProfessor -->
      <div class="scroll-list-window" style="flex: 1;">
        <h2 style="font-size:1.2em;">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
        <div id="users-list" class="scroll-list"></div>
      </div>
    </div>
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–∞ -->
  <div id="add-subject-tab" class="tab-content">
    <div style="display: flex; gap: 32px;">
      <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
      <div style="flex: 0 0 320px;">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</h2>
        <div class="form-group">
          <label for="newSubjectName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞:</label>
          <input type="text" id="newSubjectName" placeholder="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">
        </div>
        <button onclick="window.addSubject()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
      </div>
      <!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ) -->
      <div class="scroll-list-window">
        <h2 style="font-size:1.2em;">–°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤</h2>
        <div id="subject-list" class="scroll-list"></div>
      </div>
    </div>
  </div>

  <div class="table-section">
    <h2>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h2>

    <!-- ‚úÖ –ù–û–í–û–ï: –í–∫–ª–∞–¥–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
    <div style="display: flex; gap: 10px; margin-bottom: 15px; border-bottom: 2px solid #d3e0ea; padding-bottom: 10px;">
      <button id="schedule-tab-btn" class="schedule-view-btn active" onclick="window.switchScheduleView('schedule')">
        üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º
      </button>
      <button id="classroom-tab-btn" class="schedule-view-btn" onclick="window.switchScheduleView('classroom')">
        üè´ –ó–∞–Ω—è—Ç–æ—Å—Ç—å –∫–æ–º–Ω–∞—Ç
      </button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º -->
    <div id="schedule-view" class="schedule-view-container">
      <div class="table-container">
        <table>
          <thead>
          <tr>
            <th>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</th>
            <th>–í—Ç–æ—Ä–Ω–∏–∫</th>
            <th>–°—Ä–µ–¥–∞</th>
            <th>–ß–µ—Ç–≤–µ—Ä–≥</th>
            <th>–ü—è—Ç–Ω–∏—Ü–∞</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <!-- –Ø—á–µ–π–∫–∏ –¥–ª—è –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏, —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º .day –≤–Ω—É—Ç—Ä–∏ -->
            <td class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
              <div class="day" data-day-index="1"></div>
            </td>
            <td class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
              <div class="day" data-day-index="2"></div>
            </td>
            <td class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
              <div class="day" data-day-index="3"></div>
            </td>
            <td class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
              <div class="day" data-day-index="4"></div>
            </td>
            <td class="dropzone" ondrop="window.drop(event)" ondragover="window.allowDrop(event)">
              <div class="day" data-day-index="5"></div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –∫–æ–º–Ω–∞—Ç -->
    <div id="classroom-view" class="schedule-view-container" style="display: none;">
      <div class="table-container">
        <table id="classroom-schedule-table">
          <thead id="classroom-schedule-head">
          <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </thead>
          <tbody id="classroom-schedule-body">
          <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div id="context-menu" class="context-menu">
  <button class="delete" onclick="window.deleteItem()">–£–¥–∞–ª–∏—Ç—å</button>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞ -->
<div id="create-faculty-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–∫—É–ª—å—Ç–µ—Ç</h3>
    <div class="form-group">
      <label for="createFacultyName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞:</label>
      <input type="text" id="createFacultyName" placeholder="–§–∞–∫—É–ª—å—Ç–µ—Ç –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏">
    </div>
    <div class="form-group">
      <label for="createFacultyShortName">–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</label>
      <input type="text" id="createFacultyShortName" placeholder="–§–ò" maxlength="10">
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="create-faculty-submit" class="app-modal-close-btn">–°–æ–∑–¥–∞—Ç—å</button>
      <button id="create-faculty-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
<div id="create-schedule-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3 id="create-schedule-modal-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
    <div class="form-group">
      <label for="createScheduleName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:</label>
      <input type="text" id="createScheduleName" placeholder="–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 1 –≥—Ä—É–ø–ø—ã">
    </div>
    <div class="form-group">
      <label for="createScheduleFacultyId">–§–∞–∫—É–ª—å—Ç–µ—Ç:</label>
      <select id="createScheduleFacultyId">
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç --</option>
      </select>
    </div>
    <div class="form-group">
      <label for="createScheduleSemester">–°–µ–º–µ—Å—Ç—Ä:</label>
      <input type="number" id="createScheduleSemester" placeholder="1" min="1" max="8">
    </div>
    <div class="form-group">
      <label>
        <input type="checkbox" id="createScheduleIsExam">
        –≠—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω–æ–≤
      </label>
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="create-schedule-submit" class="app-modal-close-btn">–°–æ–∑–¥–∞—Ç—å</button>
      <button id="create-schedule-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
<div id="edit-schedule-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3>–û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
    <div class="form-group">
      <label for="editScheduleName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:</label>
      <input type="text" id="editScheduleName" placeholder="–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 1 –≥—Ä—É–ø–ø—ã">
    </div>
    <div class="form-group">
      <label for="editScheduleFacultyId">–§–∞–∫—É–ª—å—Ç–µ—Ç:</label>
      <select id="editScheduleFacultyId">
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç --</option>
      </select>
    </div>
    <div class="form-group">
      <label for="editScheduleSemester">–°–µ–º–µ—Å—Ç—Ä:</label>
      <input type="number" id="editScheduleSemester" placeholder="1" min="1" max="8">
    </div>
    <div class="form-group">
      <label>
        <input type="checkbox" id="editScheduleIsExam">
        –≠—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω–æ–≤
      </label>
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="edit-schedule-submit" class="app-modal-close-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button id="edit-schedule-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
<div id="delete-schedule-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3>–£–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
    <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
    <p id="delete-schedule-name" style="font-weight: bold; color: #dc3545;"></p>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="delete-schedule-confirm" class="app-modal-close-btn" style="background: #dc3545;">–£–¥–∞–ª–∏—Ç—å</button>
      <button id="delete-schedule-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞ -->
<div id="edit-faculty-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3>–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–∫—É–ª—å—Ç–µ—Ç</h3>
    <div class="form-group">
      <label for="editFacultyName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞:</label>
      <input type="text" id="editFacultyName" placeholder="–§–∞–∫—É–ª—å—Ç–µ—Ç –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏">
    </div>
    <div class="form-group">
      <label for="editFacultyShortName">–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</label>
      <input type="text" id="editFacultyShortName" placeholder="–§–ò" maxlength="10">
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="edit-faculty-submit" class="app-modal-close-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button id="edit-faculty-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞ -->
<div id="delete-faculty-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3>–£–¥–∞–ª–∏—Ç—å —Ñ–∞–∫—É–ª—å—Ç–µ—Ç</h3>
    <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–∫—É–ª—å—Ç–µ—Ç? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
    <p id="delete-faculty-name" style="font-weight: bold; color: #dc3545;"></p>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="delete-faculty-confirm" class="app-modal-close-btn" style="background: #dc3545;">–£–¥–∞–ª–∏—Ç—å</button>
      <button id="delete-faculty-cancel" class="app-modal-close-btn">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π -->
<div id="app-modal" class="app-modal-overlay">
  <div class="app-modal-content">
    <h3 id="app-modal-title"></h3>
    <p id="app-modal-message"></p>
    <button id="app-modal-close" class="app-modal-close-btn">OK</button>
  </div>
</div>

<!-- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–Ω—è—Ç–∏—è -->
<div id="conflict-modal" class="app-modal-overlay">
  <div class="app-modal-content" style="max-width: 500px;">
    <h3 style="color: #dc3545;">‚ö†Ô∏è –ö–û–ù–§–õ–ò–ö–¢ –†–ê–°–ü–ò–°–ê–ù–ò–Ø</h3>
    <div id="conflict-details" style="text-align: left; background: #fff3cd; padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid #ffc107;"></div>
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
      <button id="conflict-cancel" class="app-modal-close-btn" style="background: #6c757d;">–û—Ç–º–µ–Ω–∞</button>
      <button id="conflict-confirm" class="app-modal-close-btn" style="background: #dc3545;">–î–æ–±–∞–≤–∏—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ</button>
    </div>
  </div>
</div>

<!-- –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<script type="module" src="../src/js/main.js"></script>
<script src="../src/js/handlers/connection-modal.js"></script>
<script>
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
  if (!localStorage.getItem('jwt')) {
    window.location.href = 'auth.html';
  }
  document.getElementById('logout-btn').onclick = function() {
    localStorage.removeItem('jwt');
    window.location.href = 'auth.html';
  };
</script>
</body>
</html>